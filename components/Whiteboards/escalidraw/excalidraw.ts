import { FillStyle, StrokeStyle, RoundnessType, FractionalIndex, GroupId, BoundElement, FontFamilyValues, TextAlign, VerticalAlign, ExcalidrawGenericElement, PointBinding, Arrowhead, FileId, ImageCrop, MagicGenerationData } from "@excalidraw/excalidraw/element/types"

export type ExcalidrawAPI = {
  addElements(newElements: ({ x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "selection" } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "rectangle" } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "diamond" } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "ellipse" } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "text"; fontSize: number; fontFamily: FontFamilyValues; text: string; textAlign: TextAlign; verticalAlign: VerticalAlign; containerId: ExcalidrawGenericElement["id"] | null; originalText: string; autoResize: boolean; lineHeight: number & { _brand: "unitlessLineHeight" } } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "line" | "arrow"; points: readonly LocalPoint[]; lastCommittedPoint: LocalPoint | null; startBinding: PointBinding | null; endBinding: PointBinding | null; startArrowhead: Arrowhead | null; endArrowhead: Arrowhead | null } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "arrow"; points: readonly LocalPoint[]; lastCommittedPoint: LocalPoint | null; startBinding: PointBinding | null; endBinding: PointBinding | null; startArrowhead: Arrowhead | null; endArrowhead: Arrowhead | null; elbowed: boolean } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "freedraw"; points: readonly LocalPoint[]; pressures: readonly number[]; simulatePressure: boolean; lastCommittedPoint: LocalPoint | null } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "image"; fileId: FileId | null; status: "pending" | "saved" | "error"; scale: [number, number]; crop: ImageCrop | null } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "frame"; name: string | null } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "magicframe"; name: string | null } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: (Record<string, any> & { generationData?: MagicGenerationData }) | undefined; type: "iframe" } | { x: number; y: number; id: string; strokeColor: string; backgroundColor: string; fillStyle: FillStyle; strokeWidth: number; strokeStyle: StrokeStyle; roundness: null | { type: RoundnessType; value?: number }; roughness: number; opacity: number; width: number; height: number; angle: Radians; seed: number; version: number; versionNonce: number; index: FractionalIndex | null; isDeleted: boolean; groupIds: readonly GroupId[]; frameId: string | null; boundElements: readonly BoundElement[] | null; updated: number; link: string | null; locked: boolean; customData?: Record<string, any>; type: "embeddable" })[]): unknown
  getSceneElements: () => any[]
  getAppState: () => any
  getFiles?: () => Record<string, any>
  updateScene?: (opts: { elements?: any[]; appState?: any; files?: Record<string, any> }) => void
  updateLibrary?: (opts: { libraryItems: any[] }) => void
}

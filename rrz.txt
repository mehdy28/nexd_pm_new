
# ----------------------------------
# NEW ADMIN SUPPORT TYPES
# ----------------------------------

type AdminTicketWorkspaceInfo {
  id: ID!
  name: String!
  plan: Plan!
}

type AdminTicketListItem {
  id: ID!
  subject: String!
  status: TicketStatus!
  priority: Priority!
  updatedAt: DateTime!
  unreadCount: Int!
  creator: UserLookupPartial!
  workspace: AdminTicketWorkspaceInfo!
}

type AdminTicketWorkspaceDetails {
  id: ID!
  name: String!
  plan: Plan!
  memberCount: Int!
}

type AdminTicketDetails {
  id: ID!
  subject: String!
  priority: Priority!
  status: TicketStatus!
  createdAt: DateTime!
  creator: UserFullDetails!
  workspace: AdminTicketWorkspaceDetails!
  messages: [TicketMessage!]!
}

type TicketStatusPayload {
  id: ID!
  status: TicketStatus!
}

type TicketPriorityPayload {
  id: ID!
  priority: Priority!
}
```

**2. Add these new queries to the `Query` type.**

```graphql
type Query {
  # ... existing queries

  # Admin Support
  adminGetSupportTickets: [AdminTicketListItem!]!
  adminGetTicketDetails(id: ID!): AdminTicketDetails
}
```

**3. Add these new mutations to the `Mutation` type.**

```graphql
type Mutation {
  # ... existing mutations

  # Admin Support
  adminSendTicketMessage(ticketId: ID!, content: String!): TicketMessage!
  adminUpdateTicketStatus(ticketId: ID!, status: TicketStatus!): TicketStatusPayload!
  adminUpdateTicketPriority(ticketId: ID!, priority: Priority!): TicketPriorityPayload!
}
